## 表格拖拽调整列宽度

表格通过拖拽来调整列的宽度

ElementUI Table自带参数resizeable实现了该功能，一起来看看是如何实现的吧

首先ElementUI Table拖拽时会有一条竖线显示

<img src="https://minimax-1256590847.cos.ap-shanghai.myqcloud.com/img/image-20230830221141865.png" alt="image-20230830221141865" style="zoom:67%;" />

其对应的dom结构如下

<img src="https://minimax-1256590847.cos.ap-shanghai.myqcloud.com/img/image-20230830221218958.png" alt="image-20230830221218958" style="zoom:67%;" />

而鼠标hover到div的边框上时，鼠标样式发生变化，具体是通过style内联样式变化的

![image-20230830221435279](/Users/cheng/Library/Application Support/typora-user-images/image-20230830221435279.png)



在ElementUI 代码中是如下实现的

```js
handleMouseMove(event, column) {
      if (column.children && column.children.length > 0) return;
      let target = event.target;
      while (target && target.tagName !== 'TH') {
        target = target.parentNode;
      }

      if (!column || !column.resizable) return;

      if (!this.dragging && this.border) {
        let rect = target.getBoundingClientRect();

        const bodyStyle = document.body.style;
        if (rect.width > 12 && rect.right - event.pageX < 8) {
          bodyStyle.cursor = 'col-resize';
          if (hasClass(target, 'is-sortable')) {
            target.style.cursor = 'col-resize';
          }
          this.draggingColumn = column;
        } else if (!this.dragging) {
          bodyStyle.cursor = '';
          if (hasClass(target, 'is-sortable')) {
            target.style.cursor = 'pointer';
          }
          this.draggingColumn = null;
        }
      }
    },
```

