# Vue3双向绑定原理

## Proxy和Reflect

```js
const product = { price: 10, quantity: 2 };
let proxiedProduct = new Proxy(product, {
  get(target, key, receiver) {
    console.log("正在读取的数据", key);
    return Reflect.get(target, key, receiver);
  },
  set(target, key, value, receiver) {
    console.log("正在修改的数据：", key, ",值为：", value);
    return Reflect.set(target, key, value, receiver);
  }
});
console.log(proxiedProduct["price"]);
```

使用Proxy

```js
const product = { price: 10, quantity: 2 };

function reactive(target) {
  const handler = {
    get(target, key, receiver) {
      console.log("正在读取的数据", key);
      return Reflect.get(target, key, receiver);
    },
    set(target, key, value, receiver) {
      console.log("正在修改的数据：", key, ",值为：", value);
      return Reflect.set(target, key, value, receiver);
    }
  };
  return new Proxy(target, handler);
}
let proxiedProduct = reactive(product); // 将对象转换为响应式对象
proxiedProduct.price = 20;
console.log(proxiedProduct["price"]);
```

