(window.webpackJsonp=window.webpackJsonp||[]).push([[297],{586:function(t,a,e){"use strict";e.r(a);var s=e(8),r=Object(s.a)({},(function(){var t=this,a=t._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h2",{attrs:{id:"vue项目-uncaught-syntaxerror-unexpected-token-报错"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#vue项目-uncaught-syntaxerror-unexpected-token-报错"}},[t._v("#")]),t._v(' Vue项目"Uncaught SyntaxError: Unexpected token <"报错')]),t._v(" "),a("img",{staticStyle:{zoom:"67%"},attrs:{src:"https://minimax-1256590847.cos.ap-shanghai.myqcloud.com/img/image-20210621100754434.png",alt:"image-20210621100754434"}}),t._v(" "),a("p",[t._v("经排查，发现这是因为router mode改成history后出现的，改回hash mode后没有出现该问题")]),t._v(" "),a("p",[t._v("https://github.com/vuejs/vue-cli/issues/4852")]),t._v(" "),a("p",[t._v("使用history mode后 "),a("code",[t._v("vue.config.js")]),t._v(" 中")]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("module"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exports "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("publicPath")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("outputDir")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'dist/a'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br")])]),a("p",[t._v("其中publicPath 改成 "),a("code",[t._v("'/'")]),t._v("后就正常了。")]),t._v(" "),a("p",[t._v("publicPath默认是/，它会假设应用被部署到一个域名的根目录上，当被部署到一个子路径时，需要修改为:/子路径/。")]),t._v(" "),a("blockquote",[a("p",[t._v("默认情况下，Vue CLI 会假设你的应用是被部署在一个域名的根路径上，例如 "),a("code",[t._v("https://www.my-app.com/")]),t._v("。如果应用被部署在一个子路径上，你就需要用这个选项指定这个子路径。例如，如果你的应用被部署在 "),a("code",[t._v("https://www.my-app.com/my-app/")]),t._v("，则设置 "),a("code",[t._v("publicPath")]),t._v(" 为 "),a("code",[t._v("/my-app/")]),t._v("。")])]),t._v(" "),a("h2",{attrs:{id:"vue-router报错"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#vue-router报错"}},[t._v("#")]),t._v(" Vue Router报错")]),t._v(" "),a("h3",{attrs:{id:"冗余导航"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#冗余导航"}},[t._v("#")]),t._v(" “冗余导航”")]),t._v(" "),a("p",[t._v("通过点击按钮触发router.push时，如果值是同一个，则会报错"),a("code",[t._v('Uncaught (in promise) NavigationDuplicated: Avoided redundant navigation to current location: "/home/first".')])]),t._v(" "),a("p",[t._v("解决方案：")]),t._v(" "),a("ol",[a("li",[t._v("使用catch https://renatello.com/vuejs-avoided-redundant-navigation/")]),t._v(" "),a("li",[t._v("https://stackoverflow.com/questions/65878999/vue-router-push-error-avoided-redundant-navigation-to-current-location")])])])}),[],!1,null,null,null);a.default=r.exports}}]);