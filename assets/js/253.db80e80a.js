(window.webpackJsonp=window.webpackJsonp||[]).push([[253],{540:function(t,s,a){"use strict";a.r(s);var n=a(8),e=Object(n.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"httpè·¨åŸŸ"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#httpè·¨åŸŸ"}},[t._v("#")]),t._v(" httpè·¨åŸŸ")]),t._v(" "),s("h2",{attrs:{id:"ä»€ä¹ˆæ˜¯è·¨åŸŸ"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ä»€ä¹ˆæ˜¯è·¨åŸŸ"}},[t._v("#")]),t._v(" ä»€ä¹ˆæ˜¯è·¨åŸŸ")]),t._v(" "),s("p",[t._v("è·¨åŸŸå°±æ˜¯è·¨è¿‡"),s("strong",[t._v("æµè§ˆå™¨åŒæºç­–ç•¥é™åˆ¶")]),t._v("è¿›è¡Œè®¿é—®")]),t._v(" "),s("p",[t._v("è·¨åŸŸå®é™…æœ‰ä¸‰ä¸ªéƒ¨åˆ†")]),t._v(" "),s("ol",[s("li",[s("p",[t._v("è·¨æºç½‘ç»œè®¿é—®")]),t._v(" "),s("p",[t._v("æ¯”å¦‚"),s("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/API/XMLHttpRequest",target:"_blank",rel:"noopener noreferrer"}},[s("code",[t._v("XMLHttpRequest")]),s("OutboundLink")],1),t._v(" æˆ– "),s("code",[t._v("img")]),t._v("æ ‡ç­¾å°±ä¼šå—åˆ°åŒæºç­–ç•¥çš„çº¦æŸ")])]),t._v(" "),s("li",[s("p",[t._v("è·¨æºè„šæœ¬APIè®¿é—®")])]),t._v(" "),s("li",[s("p",[t._v("è·¨æºæ•°æ®å­˜å‚¨è®¿é—®")])])]),t._v(" "),s("p",[s("strong",[t._v("é‚£ä¹ˆä»€ä¹ˆæ˜¯æµè§ˆå™¨åŒæºç­–ç•¥å‘¢â“")])]),t._v(" "),s("p",[t._v("ä»¥ä¸‹æ˜¯"),s("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/Security/Same-origin_policy",target:"_blank",rel:"noopener noreferrer"}},[t._v("mdn"),s("OutboundLink")],1),t._v("çš„è§£é‡Š:")]),t._v(" "),s("blockquote",[s("p",[s("strong",[t._v("åŒæºç­–ç•¥")]),t._v("æ˜¯ä¸€ä¸ªé‡è¦çš„å®‰å…¨ç­–ç•¥ï¼Œå®ƒç”¨äºé™åˆ¶ä¸€ä¸ªæºçš„æ–‡æ¡£æˆ–è€…å®ƒåŠ è½½çš„è„šæœ¬å¦‚ä½•èƒ½ä¸å¦ä¸€ä¸ªæºçš„èµ„æºè¿›è¡Œäº¤äº’ã€‚å®ƒèƒ½å¸®åŠ©é˜»éš”æ¶æ„æ–‡æ¡£ï¼Œå‡å°‘å¯èƒ½è¢«æ”»å‡»çš„åª’ä»‹ã€‚")])]),t._v(" "),s("h2",{attrs:{id:"åŒæºåˆæ˜¯ä»€ä¹ˆâ“"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#åŒæºåˆæ˜¯ä»€ä¹ˆâ“"}},[t._v("#")]),t._v(" åŒæºåˆæ˜¯ä»€ä¹ˆâ“")]),t._v(" "),s("p",[t._v("mdn:")]),t._v(" "),s("blockquote",[s("p",[t._v("å¦‚æœä¸¤ä¸ª URL çš„ "),s("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Glossary/Protocol",target:"_blank",rel:"noopener noreferrer"}},[t._v("protocol"),s("OutboundLink")],1),t._v("ã€"),s("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Glossary/port",target:"_blank",rel:"noopener noreferrer"}},[t._v("port"),s("OutboundLink")],1),t._v(" (å¦‚æœæœ‰æŒ‡å®šçš„è¯)å’Œ "),s("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Glossary/host",target:"_blank",rel:"noopener noreferrer"}},[t._v("host"),s("OutboundLink")],1),t._v(" éƒ½ç›¸åŒçš„è¯ï¼Œåˆ™è¿™ä¸¤ä¸ª URL æ˜¯"),s("em",[t._v("åŒæº")]),t._v("ã€‚è¿™ä¸ªæ–¹æ¡ˆä¹Ÿè¢«ç§°ä¸ºâ€œåè®®/ä¸»æœº/ç«¯å£å…ƒç»„â€ï¼Œæˆ–è€…ç›´æ¥æ˜¯ â€œå…ƒç»„â€ã€‚ï¼ˆâ€œå…ƒç»„â€ æ˜¯æŒ‡ä¸€ç»„é¡¹ç›®æ„æˆçš„æ•´ä½“ï¼ŒåŒé‡/ä¸‰é‡/å››é‡/äº”é‡/ç­‰çš„é€šç”¨å½¢å¼ï¼‰ã€‚")])]),t._v(" "),s("p",[t._v("åŒæºï¼šåè®®+åŸŸå+ç«¯å£éƒ½ç›¸åŒï¼Œbaidu.comå’Œwww.baidu.comå°±ä¸æ˜¯åŒæº")]),t._v(" "),s("p",[t._v("å…³äºhttpåè®®è¿™å—å¯ä»¥å»çœ‹"),s("a",{attrs:{href:"https://github.com/fncheng/blog/blob/master/http/http%E5%8D%8F%E8%AE%AE.md#%E5%9C%A8%E6%B5%8F%E8%A7%88%E5%99%A8%E8%BE%93%E5%85%A5-url-%E8%AE%BF%E9%97%AE%E7%BD%91%E5%9D%80%E7%9A%84%E8%BF%87%E7%A8%8B%E4%B8%AD%E5%8F%91%E7%94%9F%E4%BA%86%E4%BB%80%E4%B9%88",target:"_blank",rel:"noopener noreferrer"}},[t._v("åœ¨æµè§ˆå™¨è¾“å…¥ url è®¿é—®ç½‘å€çš„è¿‡ç¨‹ä¸­å‘ç”Ÿäº†ä»€ä¹ˆ?"),s("OutboundLink")],1)]),t._v(" "),s("p",[t._v("æ€»ä¹‹å°±æ˜¯åè®®(protocol)ã€åŸŸå(host)ã€ç«¯å£(port)å¿…é¡»ç›¸åŒã€‚è¿™æ ·ä¸åŒhtmlæ–‡ä»¶ä¹‹é—´æ‰å¯ä»¥é€šä¿¡")]),t._v(" "),s("p",[t._v("åŒæºç­–ç•¥çš„é™åˆ¶:")]),t._v(" "),s("div",{staticClass:"language-javascript line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1.")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" Cookieã€LocalStorage å’Œ IndexDB æ— æ³•è¯»å–\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2.")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("DOM")]),t._v(" å’Œ Jså¯¹è±¡æ— æ³•è·å¾—\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3.")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("AJAX")]),t._v(" è¯·æ±‚ä¸èƒ½å‘é€\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br")])]),s("h2",{attrs:{id:"è·¨åŸŸå…·ä½“æ¡ˆä¾‹"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#è·¨åŸŸå…·ä½“æ¡ˆä¾‹"}},[t._v("#")]),t._v(" è·¨åŸŸå…·ä½“æ¡ˆä¾‹")]),t._v(" "),s("p",[t._v("æ¡ˆä¾‹1ï¼š")]),t._v(" "),s("p",[t._v("æœ‰2ä¸ªé¡µé¢ï¼š1ï¼š http://newplayer.fun:8888/1.html")]),t._v(" "),s("p",[t._v("â€‹\t\t\t\t\t2ï¼š http://newplayer.fun:8080/1.html")]),t._v(" "),s("p",[t._v("è¿™ä¸¤ä¸ªé¡µé¢æ˜¾ç„¶æ˜¯è·¨åŸŸçš„ï¼Œå—åŒæºç­–ç•¥å½±å“")]),t._v(" "),s("p",[t._v("é¡µé¢1ä¸Šæœ‰å¼ å›¾http://newplayer.fun:8888/src/01.jpeg åœ¨é¡µé¢2ä¸Šè¿™æ ·å¼•ç”¨")]),t._v(" "),s("div",{staticClass:"language-html line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-html"}},[s("code",[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("img")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("src")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("http://newplayer.fun:8888/src/01.jpeg"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("p",[t._v("å‘ç°é¡µé¢2çš„å›¾ç‰‡å¯ä»¥æ˜¾ç¤º")]),t._v(" "),s("p",[t._v("è¿™æ˜¯å› ä¸ºimgçš„"),s("code",[t._v("src")]),t._v("å±æ€§å¯ä»¥ç»•è¿‡åŒç­–ç•¥ã€è·¨åŸŸè¯·æ±‚ã€‚")]),t._v(" "),s("p",[t._v("scriptä¹Ÿå¯ä»¥")]),t._v(" "),s("p",[s("strong",[t._v("Qï¼šimgçš„srcå’Œscriptçš„srcè·¨åŸŸçš„åŒºåˆ«")]),t._v("â“")]),t._v(" "),s("p",[t._v("åŸç†ä¸Šéƒ½æ˜¯åˆ©ç”¨æ ‡ç­¾çš„srcå¯ç»•è¿‡åŒæºé™åˆ¶ï¼Œè·¨åŸŸè¯·æ±‚çš„ç‰¹ç‚¹ï¼Œ")]),t._v(" "),s("p",[t._v("ç¡¬è¦è¯´ä¸åŒï¼Œé‚£ä¹ˆåŒºåˆ«åœ¨äºï¼šimgåªèƒ½å•å‘å‘é€getè¯·æ±‚ï¼Œ"),s("strong",[t._v("ä¸å¯è®¿é—®å“åº”å†…å®¹ï¼ˆåªæ˜¯å±•ç°ï¼‰")]),t._v("ï¼Œè€Œ"),s("strong",[t._v("scriptå¯å¯¹å…¶è¿›è¡Œè§£æ")])]),t._v(" "),s("p",[t._v("æ¡ˆä¾‹2:")]),t._v(" "),s("p",[t._v("ä»http://127.0.0.1:8888/#/homeè®¿é—®http://127.0.0.1:3000å°±ä¼šæŠ¥é”™")]),t._v(" "),s("div",{staticClass:"language-http line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-http"}},[s("code",[t._v("Access to XMLHttpRequest at 'http://127.0.0.1:3000/' from origin 'http://127.0.0.1:8888' has been blocked by CORS policy: No 'Access-Control-Allow-Origin' header is present on the requested resource.\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("h2",{attrs:{id:"è·¨åŸŸè§£å†³æ–¹æ¡ˆ"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#è·¨åŸŸè§£å†³æ–¹æ¡ˆ"}},[t._v("#")]),t._v(" è·¨åŸŸè§£å†³æ–¹æ¡ˆ")]),t._v(" "),s("p",[t._v("https://juejin.cn/post/6844903882083024910#heading-5")]),t._v(" "),s("p",[t._v("1ã€ é€šè¿‡jsonpè·¨åŸŸ\n2ã€ document.domain + iframeè·¨åŸŸ\n3ã€ location.hash + iframe\n4ã€ window.name + iframeè·¨åŸŸ\n5ã€ postMessageè·¨åŸŸ\n6ã€ è·¨åŸŸèµ„æºå…±äº«ï¼ˆCORSï¼‰\n7ã€ nginxä»£ç†è·¨åŸŸ\n8ã€ nodejsä¸­é—´ä»¶ä»£ç†è·¨åŸŸ\n9ã€ WebSocketåè®®è·¨åŸŸ")]),t._v(" "),s("h4",{attrs:{id:"_1-jsonpè·¨åŸŸ"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-jsonpè·¨åŸŸ"}},[t._v("#")]),t._v(" 1.JSONPè·¨åŸŸ")]),t._v(" "),s("p",[t._v("jsonpè·¨åŸŸå°±æ˜¯åˆ©ç”¨äº†scriptæ ‡ç­¾srcå±æ€§çš„è·¨åŸŸç‰¹ç‚¹å‘é€å¸¦æœ‰callbackå‚æ•°çš„GETè¯·æ±‚")]),t._v(" "),s("div",{staticClass:"language-html line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-html"}},[s("code",[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("script")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token script"}},[s("span",{pre:!0,attrs:{class:"token language-javascript"}},[t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" script "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" document"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("createElement")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'script'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\tscript"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("type "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'text/javascript'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ä¼ å‚ä¸€ä¸ªå›è°ƒå‡½æ•°åç»™åç«¯ï¼Œæ–¹ä¾¿åç«¯è¿”å›æ—¶æ‰§è¡Œè¿™ä¸ªåœ¨å‰ç«¯å®šä¹‰çš„å›è°ƒå‡½æ•°")]),t._v("\n\tscript"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("src "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'http://127.0.0.1:3000'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\tdocument"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("head"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("appendChild")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("script"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("script")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br")])]),s("h4",{attrs:{id:"_2-è·¨åŸŸèµ„æºå…±äº«-cors"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-è·¨åŸŸèµ„æºå…±äº«-cors"}},[t._v("#")]),t._v(" 2.è·¨åŸŸèµ„æºå…±äº«ï¼ˆCORSï¼‰")]),t._v(" "),s("p",[t._v("æ»¡è¶³ä¿©ä¸ªæ¡ä»¶ï¼š")]),t._v(" "),s("ol",[s("li",[t._v("è¯·æ±‚æ˜¯ä»¥ä¸‹ç±»\n"),s("ul",[s("li",[t._v("head")]),t._v(" "),s("li",[t._v("get")]),t._v(" "),s("li",[t._v("post")])])]),t._v(" "),s("li",[t._v("è¯·æ±‚çš„Header\n"),s("ul",[s("li",[t._v("Accept")]),t._v(" "),s("li",[t._v("Accept-Language")]),t._v(" "),s("li",[t._v("Content-Language")]),t._v(" "),s("li",[t._v("Content-Type: åªé™äºä¸‰ä¸ªå€¼ï¼šapplication/x-www-form-urlencodedã€multipart/form-dataã€text/plain")])])])]),t._v(" "),s("p",[t._v("ä¸åŒæ—¶æ»¡è¶³ä¸Šé¢çš„ä¸¤ä¸ªæ¡ä»¶ï¼Œå°±å±äºéç®€å•è¯·æ±‚ã€‚æµè§ˆå™¨å¯¹è¿™ä¸¤ç§çš„å¤„ç†ï¼Œæ˜¯ä¸ä¸€æ ·çš„ã€‚")]),t._v(" "),s("p",[t._v("ç®€å•è¯·æ±‚è¦æˆ‘ä»¬åœ¨å¤´ä¿¡æ¯ä¸­è®¾ç½®Originå­—æ®µ")]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("axios")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("method")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'get'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("url")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'http://127.0.0.1:3000'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("headers")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n          "),s("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v("'Content-Type'")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'text/palin'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n          "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("Origin")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'http://127.0.0.1:3000'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("then")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("res")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("res"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br")])]),s("p",[t._v("å‘ç°æŠ¥é”™å¹¶ä¸”è¿˜æ˜¯æ˜¾ç¤ºCORSç­–ç•¥")]),t._v(" "),s("div",{staticClass:"language-http line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-http"}},[s("code",[t._v('Refused to set unsafe header "Origin"\n// åŸå› æ˜¯åœ¨æœåŠ¡ç«¯è¿˜éœ€è¦è®¾ç½®è¯·æ±‚å¤´ Access-Control-Allow-Origin å­—æ®µ å¹¶ä¸”æµè§ˆå™¨ä¼šè‡ªåŠ¨ä¸ºç¬¦åˆCORSçš„è¯·æ±‚æ·»åŠ  Origin å­—æ®µ\n')])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br")])]),s("p",[t._v("å…·ä½“å¯ä»¥çœ‹https://developer.mozilla.org/zh-CN/docs/Web/HTTP/CORS")]),t._v(" "),s("p",[s("strong",[t._v("CORSè¯·æ±‚è®¾ç½®çš„å“åº”å¤´å­—æ®µï¼Œéƒ½ä»¥ Access-Control-å¼€å¤´:")])]),t._v(" "),s("ol",[s("li",[s("p",[s("strong",[t._v("Access-Control-Allow-Origin")]),t._v(" å¿…é€‰")]),t._v(" "),s("p",[t._v("å®ƒçš„å€¼è¦ä¹ˆæ˜¯è¯·æ±‚æ—¶Originå­—æ®µçš„å€¼ï¼Œè¦ä¹ˆæ˜¯ä¸€ä¸ª*ï¼Œè¡¨ç¤ºæ¥å—ä»»æ„åŸŸåçš„è¯·æ±‚ã€‚")])]),t._v(" "),s("li",[s("p",[s("strong",[t._v("Access-Control-Allow-Credentials")]),t._v(" å¯é€‰")]),t._v(" "),s("p",[t._v("å®ƒçš„å€¼æ˜¯ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºæ˜¯å¦å…è®¸å‘é€Cookieã€‚é»˜è®¤æƒ…å†µä¸‹ï¼ŒCookieä¸åŒ…æ‹¬åœ¨CORSè¯·æ±‚ä¹‹ä¸­ã€‚è®¾ä¸ºtrueï¼Œå³è¡¨ç¤ºæœåŠ¡å™¨æ˜ç¡®è®¸å¯ï¼ŒCookieå¯ä»¥åŒ…å«åœ¨è¯·æ±‚ä¸­ï¼Œä¸€èµ·å‘ç»™æœåŠ¡å™¨ã€‚è¿™ä¸ªå€¼ä¹Ÿåªèƒ½è®¾ä¸ºtrueï¼Œå¦‚æœæœåŠ¡å™¨ä¸è¦æµè§ˆå™¨å‘é€Cookieï¼Œåˆ é™¤è¯¥å­—æ®µå³å¯ã€‚")])])]),t._v(" "),s("p",[t._v("ğŸ‘‰"),s("a",{attrs:{href:"https://blog.csdn.net/zhuzhaoxu114/article/details/115490787",target:"_blank",rel:"noopener noreferrer"}},[t._v("åŒé‡è·¨åŸŸé—®é¢˜"),s("OutboundLink")],1)]),t._v(" "),s("h4",{attrs:{id:"_7-nginxåå‘ä»£ç†"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_7-nginxåå‘ä»£ç†"}},[t._v("#")]),t._v(" 7. nginxåå‘ä»£ç†")]),t._v(" "),s("p",[t._v("ä½¿ç”¨nginxåå‘ä»£ç†å®ç°è·¨åŸŸï¼Œåªéœ€è¦ä¿®æ”¹nginxçš„é…ç½®å³å¯è§£å†³è·¨åŸŸé—®é¢˜ã€‚")]),t._v(" "),s("p",[t._v("Aç½‘ç«™å‘Bç½‘ç«™è¯·æ±‚æŸä¸ªæ¥å£æ—¶ï¼Œå‘Bç½‘ç«™å‘é€ä¸€ä¸ªè¯·æ±‚ï¼Œnginxæ ¹æ®é…ç½®æ–‡ä»¶æ¥æ”¶è¿™ä¸ªè¯·æ±‚ï¼Œä»£æ›¿Aç½‘ç«™å‘Bç½‘ç«™æ¥è¯·æ±‚ã€‚\nnginxæ‹¿åˆ°è¿™ä¸ªèµ„æºåå†è¿”å›ç»™Aç½‘ç«™ï¼Œä»¥æ­¤æ¥è§£å†³äº†è·¨åŸŸé—®é¢˜ã€‚")]),t._v(" "),s("p",[t._v("ä¾‹å¦‚nginxç›‘å¬çš„ç«¯å£å·ä¸º 8090ï¼Œå“åº”è¯·æ±‚çš„æœåŠ¡å™¨ç«¯å£å·ä¸º 3000ã€‚ï¼ˆlocalhost:8090 è¯·æ±‚ localhost:3000/sayï¼‰")]),t._v(" "),s("p",[t._v("nginxé…ç½®å¦‚ä¸‹:")]),t._v(" "),s("div",{staticClass:"language-nginx line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-nginx"}},[s("code",[s("span",{pre:!0,attrs:{class:"token directive"}},[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("server")])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token directive"}},[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("listen")]),t._v("       "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("8090")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token directive"}},[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("server_name")]),t._v("  localhost")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token directive"}},[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("location")]),t._v(" /")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token directive"}},[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("root")]),t._v("   /Users/liuyan35/Test/Study/CORS/1-jsonp")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token directive"}},[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("index")]),t._v("  index.html index.htm")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token directive"}},[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("location")]),t._v(" /say")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token directive"}},[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("rewrite")]),t._v("  ^/say/(.*)$ /"),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$1")]),t._v(" break")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token directive"}},[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("proxy_pass")]),t._v("   http://localhost:3000")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token directive"}},[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("add_header")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Access-Control-Allow-Origin'")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'*'")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token directive"}},[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("add_header")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Access-Control-Allow-Credentials'")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'true'")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token directive"}},[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("add_header")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Access-Control-Allow-Methods'")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'GET, POST, OPTIONS'")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# others")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br"),s("span",{staticClass:"line-number"},[t._v("15")]),s("br"),s("span",{staticClass:"line-number"},[t._v("16")]),s("br"),s("span",{staticClass:"line-number"},[t._v("17")]),s("br"),s("span",{staticClass:"line-number"},[t._v("18")]),s("br")])]),s("div",{staticClass:"language-nginx line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-nginx"}},[s("code",[s("span",{pre:!0,attrs:{class:"token directive"}},[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("server")])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        ...\n        "),s("span",{pre:!0,attrs:{class:"token directive"}},[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("location")]),t._v(" /")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# å…è®¸ æ‰€æœ‰å¤´éƒ¨ æ‰€æœ‰åŸŸ æ‰€æœ‰æ–¹æ³•")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token directive"}},[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("add_header")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Access-Control-Allow-Origin'")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'*'")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token directive"}},[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("add_header")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Access-Control-Allow-Headers'")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'*'")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token directive"}},[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("add_header")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Access-Control-Allow-Methods'")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'*'")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# OPTIONS ç›´æ¥è¿”å›204")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token directive"}},[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" ("),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$request_method")]),t._v(" = "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'OPTIONS'")]),t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token directive"}},[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("204")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        ...\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br")])]),s("hr"),t._v(" "),s("p",[t._v("ç›¸å…³é“¾æ¥:")]),t._v(" "),s("p",[s("a",{attrs:{href:"https://cloud.tencent.com/developer/article/1175899",target:"_blank",rel:"noopener noreferrer"}},[t._v("è·¨åŸŸåŠå…¶å¸¸è§è§£å†³æ–¹æ¡ˆ"),s("OutboundLink")],1)]),t._v(" "),s("p",[s("a",{attrs:{href:"https://segmentfault.com/a/1190000016229792",target:"_blank",rel:"noopener noreferrer"}},[t._v("CORSè·¨åŸŸå’ŒNginxåå‘ä»£ç†è·¨åŸŸä¼˜åŠ£å¯¹æ¯”"),s("OutboundLink")],1)]),t._v(" "),s("p",[t._v("https://juejin.im/post/6844903767226351623#heading-11")]),t._v(" "),s("p",[t._v("https://github.com/YvetteLau/Blog/issues/21")])])}),[],!1,null,null,null);s.default=e.exports}}]);