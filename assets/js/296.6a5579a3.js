(window.webpackJsonp=window.webpackJsonp||[]).push([[296],{583:function(t,s,a){"use strict";a.r(s);var n=a(8),e=Object(n.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h2",{attrs:{id:"nuxt学习"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#nuxt学习"}},[t._v("#")]),t._v(" Nuxt学习")]),t._v(" "),s("h3",{attrs:{id:"nuxt目录结构"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#nuxt目录结构"}},[t._v("#")]),t._v(" Nuxt目录结构")]),t._v(" "),s("p",[t._v("在 Nuxt 3 中，"),s("a",{attrs:{href:"https://nuxt.com.cn/docs/guide/directory-structure/pages",target:"_blank",rel:"noopener noreferrer"}},[s("code",[t._v("pages/")]),s("OutboundLink")],1),t._v(" 目录是可选的。如果不存在该目录，Nuxt 将不会包含 "),s("a",{attrs:{href:"https://router.vuejs.org/",target:"_blank",rel:"noopener noreferrer"}},[t._v("vue-router"),s("OutboundLink")],1),t._v(" 依赖项。这在开发一个落地页或者不需要路由的应用时非常有用。")]),t._v(" "),s("h3",{attrs:{id:"nuxt和vue-spa区别"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#nuxt和vue-spa区别"}},[t._v("#")]),t._v(" Nuxt和Vue SPA区别")]),t._v(" "),s("h3",{attrs:{id:"_1-项目结构"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-项目结构"}},[t._v("#")]),t._v(" 1. "),s("strong",[t._v("项目结构")])]),t._v(" "),s("ul",[s("li",[s("strong",[t._v("普通 Vue.js SPA 项目")]),t._v("：\n"),s("ul",[s("li",[t._v("开发者通常自行组织项目结构。项目通常包含 "),s("code",[t._v("src")]),t._v(" 目录，内部有 "),s("code",[t._v("components")]),t._v("、"),s("code",[t._v("views")]),t._v("、"),s("code",[t._v("router")]),t._v("、"),s("code",[t._v("store")]),t._v(" 等子目录。")]),t._v(" "),s("li",[t._v("路由通常在 "),s("code",[t._v("router")]),t._v(" 目录下手动配置，组件和页面视图文件可以放在 "),s("code",[t._v("views")]),t._v(" 目录下。")])])]),t._v(" "),s("li",[s("strong",[t._v("Nuxt.js 项目")]),t._v("：\n"),s("ul",[s("li",[t._v("Nuxt.js 有约定俗成的目录结构，项目的 "),s("code",[t._v("pages")]),t._v(" 目录用来存放页面组件，且文件名和目录结构会自动映射为路由。")]),t._v(" "),s("li",[t._v("没有 "),s("code",[t._v("router")]),t._v(" 目录，Nuxt.js 会自动生成路由配置。")]),t._v(" "),s("li",[t._v("组件通常放在 "),s("code",[t._v("components")]),t._v(" 目录中，"),s("code",[t._v("store")]),t._v(" 目录则用于管理 Vuex 状态。")])])])]),t._v(" "),s("h3",{attrs:{id:"_2-路由管理"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-路由管理"}},[t._v("#")]),t._v(" 2. "),s("strong",[t._v("路由管理")])]),t._v(" "),s("ul",[s("li",[s("strong",[t._v("普通 Vue.js SPA 项目")]),t._v("：\n"),s("ul",[s("li",[t._v("需要手动配置路由。开发者在 "),s("code",[t._v("router/index.js")]),t._v(" 文件中导入页面组件，并为每个路由定义路径和组件关系。")]),t._v(" "),s("li",[t._v("复杂的路由系统可能需要较多的手动配置，特别是在处理嵌套路由或动态路由时。")])])]),t._v(" "),s("li",[s("strong",[t._v("Nuxt.js 项目")]),t._v("：\n"),s("ul",[s("li",[t._v("路由是由 "),s("code",[t._v("pages")]),t._v(" 目录中的文件和文件夹自动生成的，不需要手动配置。")]),t._v(" "),s("li",[t._v("例如，在 "),s("code",[t._v("pages")]),t._v(" 目录下创建 "),s("code",[t._v("about.vue")]),t._v(" 文件，Nuxt 会自动生成 "),s("code",[t._v("/about")]),t._v(" 路由。")]),t._v(" "),s("li",[t._v("Nuxt 支持动态路由，通过在 "),s("code",[t._v("pages")]),t._v(" 目录下使用 "),s("code",[t._v("_[param].vue")]),t._v(" 的命名方式来定义动态路由。")])])])]),t._v(" "),s("p",[t._v("NuxtPage组件用于显示位于pages/目录中的页面。")]),t._v(" "),s("blockquote",[s("p",[t._v("NuxtPage就相当于VueRouter中的router-view，用来渲染路由内容的")])]),t._v(" "),s("p",[t._v("nuxt start用来访问nuxt build生成的项目(.nuxt目录)")]),t._v(" "),s("p",[t._v("默认3000端口，如果端口被占用了，可以使用"),s("code",[t._v("PORT=4000 nuxt start")]),t._v("命令修改端口号")]),t._v(" "),s("h2",{attrs:{id:"middleware中间件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#middleware中间件"}},[t._v("#")]),t._v(" Middleware中间件")]),t._v(" "),s("p",[t._v("定义一个middleware中间件")]),t._v(" "),s("div",{staticClass:"language-ts line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-ts"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("defineNuxtRouteMiddleware")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("to"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" from"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" router "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("useRouter")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("console")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'from: '")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" from"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("console")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'to: '")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" to"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("to"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("path "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    router"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("push")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/home'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br")])]),s("p",[t._v("代码优化")]),t._v(" "),s("div",{staticClass:"language-ts line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-ts"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// middleware/redirect-to-home.js")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("defineNuxtRouteMiddleware")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("to"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 如果目标路径是根路径，则跳转到 /home")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("to"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("path "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 使用 navigateTo 进行导航，替代 router.push")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("navigateTo")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/home'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br")])]),s("p",[s("strong",[t._v("避免冗余的跳转")]),t._v("：使用 "),s("code",[t._v("router.push")]),t._v(" 可能导致不必要的跳转或重复调用")]),t._v(" "),s("h2",{attrs:{id:"nuxt项目遇到问题"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#nuxt项目遇到问题"}},[t._v("#")]),t._v(" Nuxt项目遇到问题")]),t._v(" "),s("p",[t._v("引入Element-plus后出现报错")]),t._v(" "),s("blockquote",[s("p",[t._v("Uncaught SyntaxError: The requested module '/_nuxt/node_modules/.pnpm/dayjs@1.11.13/node_modules/dayjs/dayjs.min.js?v=61c84073' does not provide an export named 'default'")])]),t._v(" "),s("p",[t._v("解决办法：https://github.com/element-plus/element-plus/issues/8165#issuecomment-2094041331")])])}),[],!1,null,null,null);s.default=e.exports}}]);