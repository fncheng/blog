(window.webpackJsonp=window.webpackJsonp||[]).push([[226],{516:function(t,s,a){"use strict";a.r(s);var n=a(8),e=Object(n.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h2",{attrs:{id:"å…³äºå‰ç«¯é…ç½®ä»£ç†çš„é—®é¢˜"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#å…³äºå‰ç«¯é…ç½®ä»£ç†çš„é—®é¢˜"}},[t._v("#")]),t._v(" å…³äºå‰ç«¯é…ç½®ä»£ç†çš„é—®é¢˜")]),t._v(" "),s("p",[t._v("é¦–å…ˆæ˜ç¡®ä¸€ä¸‹å‰æï¼š")]),t._v(" "),s("p",[t._v("å‡è®¾åç«¯æœåŠ¡éƒ¨ç½²åœ¨10.0.0.1:8080ä¸Šï¼Œåœ¨ä¸å¼€å¯è·¨åŸŸçš„å‰æä¸‹ï¼Œæˆ‘ä»¬æ²¡æ³•ç›´æ¥è®¿é—®")]),t._v(" "),s("p",[t._v("æ¯”å¦‚expressæœåŠ¡ä¸å¼€å¯corsï¼ˆä¸å¯ç”¨app.use(cors)ï¼‰")]),t._v(" "),s("p",[t._v("ä¸€èˆ¬é€šè¿‡ä»£ç†çš„æ–¹å¼æ¥è®¿é—®åç«¯æœåŠ¡")]),t._v(" "),s("p",[t._v("æ¯”å¦‚vite server proxyçš„è®¾ç½®")]),t._v(" "),s("div",{staticClass:"language-ts line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-ts"}},[s("code",[t._v("server"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\tproxy"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\t    "),s("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"/adms"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\t        target"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"http://10.0.0.1:8080"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t\t        secure"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t\t        "),s("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("rewrite")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("path"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" path"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("replace")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token regex"}},[s("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token regex-source language-regex"}},[t._v("^\\/adms")]),s("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[t._v("/")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('""')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t\t    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br")])]),s("p",[t._v("å½“æ¥å£åŒ¹é…åˆ°/admsæ—¶ï¼Œå°±ä¼šä»£ç†åˆ°http://10.0.0.1:8080")]),t._v(" "),s("p",[t._v('è¿™é‡Œrewriteçš„ä½œç”¨æ˜¯å½“åŒ¹é…åˆ°å¯¹åº”è¯·æ±‚æ—¶ï¼Œå°†/admsæ›¿æ¢ä¸º""ï¼Œè‡³äºä¸ºä»€ä¹ˆè¦æ›¿æ¢æˆ"",è¿™é‡Œæ˜¯å› ä¸ºåç«¯çš„apiå¹¶ä¸æ˜¯ä»¥/admså¼€å¤´çš„')]),t._v(" "),s("h3",{attrs:{id:"ç»è¿‡ä»£ç†çš„è¯·æ±‚åœ¨æµè§ˆå™¨ä¸­æ˜¾ç¤ºçš„è¿˜æ˜¯åŸæ¥çš„request-url"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ç»è¿‡ä»£ç†çš„è¯·æ±‚åœ¨æµè§ˆå™¨ä¸­æ˜¾ç¤ºçš„è¿˜æ˜¯åŸæ¥çš„request-url"}},[t._v("#")]),t._v(" ç»è¿‡ä»£ç†çš„è¯·æ±‚åœ¨æµè§ˆå™¨ä¸­æ˜¾ç¤ºçš„è¿˜æ˜¯åŸæ¥çš„Request URL")]),t._v(" "),s("div",{staticClass:"language-ts line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-ts"}},[s("code",[t._v("server"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    port"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("9001")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    proxy"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v("'/proxyApi/'")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        target"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'http://localhost:3000'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        changeOrigin"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("rewrite")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("path"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" path"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("replace")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token regex"}},[s("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token regex-source language-regex"}},[t._v("^\\/proxyApi")]),s("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[t._v("/")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br")])]),s("p",[s("img",{attrs:{src:"https://minimax-1256590847.cos.ap-shanghai.myqcloud.com/img/image-20241022095329375.png",alt:"image-20241022095329375"}})]),t._v(" "),s("p",[t._v("æ¯”å¦‚æˆ‘ä¸Šé¢å°†å¸¦æœ‰"),s("code",[t._v("/proxyApi/")]),t._v("çš„è¯·æ±‚ä»£ç†åˆ°http://localhost:3000ï¼Œå¹¶ä¸”é€šè¿‡rewriteå»é™¤æ‰/proxyApi,æœ€ç»ˆè¯·æ±‚çš„åœ°å€ä¸ºhttp://localhost:3000/routeï¼Œä½†æ˜¯æµè§ˆå™¨ä¸­æ˜¾ç¤ºçš„è¿˜æ˜¯localhost:9001/proxyApi/route,è¿™æ˜¯å‰ç«¯æœåŠ¡å™¨æ‰€åœ¨çš„åœ°å€ã€‚")]),t._v(" "),s("p",[t._v("10.0.0.1é€šè¿‡è®¾ç½®nginxï¼Œè®¿é—®10.0.0.1:80/admsæ—¶åä»£åˆ°10.0.0.1:8080")]),t._v(" "),s("p",[t._v("æ‰€ä»¥æˆ‘ä»¬æ‰€æœ‰çš„è¯·æ±‚éƒ½ä¼šé€šè¿‡ä¸­é—´å±‚è½¬æ¢æˆç›´æ¥è®¿é—®åç«¯çš„æœåŠ¡")]),t._v(" "),s("p",[t._v("ç¬¬äºŒç§ï¼š")]),t._v(" "),s("p",[t._v("æˆ‘ä»¬ä¹Ÿå¯ä»¥ä»£ç†åˆ°nginxï¼Œç„¶ånginxå†ä»£ç†åˆ°åç«¯æœåŠ¡")]),t._v(" "),s("p",[t._v("å¦‚æœè¦ä»£ç†åˆ°nginxï¼Œæˆ‘ä»¬å°±ä¸èƒ½å†è®¿é—®ç«¯å£äº†ï¼Œä¸­é—´ä»¶æœ€ç»ˆè¦è®¿é—®çš„åœ°å€åº”æ˜¯10.0.0.1:80/admsï¼Œè¿™æ ·æ‰ä¼šå‘½ä¸­nginxçš„è§„åˆ™")]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("server")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("proxy")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"/adms"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("target")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"http://10.0.0.1"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("secure")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("rewrite")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("path")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" path"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("replace")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token regex"}},[s("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token regex-source language-regex"}},[t._v("^\\/adms")]),s("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[t._v("/")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/adms"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br")])]),s("h3",{attrs:{id:"changeoriginé…ç½®"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#changeoriginé…ç½®"}},[t._v("#")]),t._v(" changeOriginé…ç½®")]),t._v(" "),s("p",[t._v("å‡è®¾ä½ çš„ Vue åº”ç”¨åœ¨ "),s("code",[t._v("http://localhost:8080")]),t._v(" ä¸Šè¿è¡Œï¼Œåç«¯ API æœåŠ¡åœ¨ "),s("code",[t._v("http://127.0.0.1:3000")]),t._v(" ä¸Šè¿è¡Œã€‚å‰ç«¯é€šè¿‡ä»£ç†æ¥å‘é€è¯·æ±‚ï¼š")]),t._v(" "),s("div",{staticClass:"language-ts line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-ts"}},[s("code",[t._v("module"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exports "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  server"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    port"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("10001")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    proxy"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v("'/test'")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            target"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'http://127.0.0.1:3000'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            changeOrigin"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("rewrite")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("path"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" path"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("replace")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token regex"}},[s("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token regex-source language-regex"}},[t._v("^\\/test")]),s("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[t._v("/")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/test'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br")])]),s("h4",{attrs:{id:"è¯·æ±‚çš„å˜åŒ–"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#è¯·æ±‚çš„å˜åŒ–"}},[t._v("#")]),t._v(" è¯·æ±‚çš„å˜åŒ–ï¼š")]),t._v(" "),s("ul",[s("li",[s("strong",[t._v("å®¢æˆ·ç«¯åŸå§‹è¯·æ±‚")]),t._v("ï¼š\n"),s("ul",[s("li",[t._v("URL: "),s("code",[t._v("http://localhost:8080/api/users")])]),t._v(" "),s("li",[t._v("Origin: "),s("code",[t._v("http://localhost:8080")])])])]),t._v(" "),s("li",[s("strong",[t._v("ä»£ç†åè¯·æ±‚")]),t._v("ï¼ˆ"),s("code",[t._v("changeOrigin: true")]),t._v(" æ—¶ï¼‰ï¼š\n"),s("ul",[s("li",[t._v("URL: "),s("code",[t._v("http://api.example.com/users")])]),t._v(" "),s("li",[t._v("Origin: "),s("code",[t._v("http://api.example.com")]),t._v(" ï¼ˆä»£ç†æœåŠ¡å™¨å°† "),s("code",[t._v("Origin")]),t._v(" ä¿®æ”¹ä¸ºç›®æ ‡åœ°å€ï¼‰")])])])]),t._v(" "),s("p",[t._v("å¦‚æœ "),s("code",[t._v("changeOrigin")]),t._v(" ä¸º "),s("code",[t._v("false")]),t._v("ï¼Œé‚£ä¹ˆåç«¯æœåŠ¡å™¨ä¼šæ”¶åˆ°å¸¦æœ‰åŸå§‹ "),s("code",[t._v("Origin")]),t._v(" çš„è¯·æ±‚ï¼ˆå³ "),s("code",[t._v("http://localhost:8080")]),t._v("ï¼‰ã€‚æœ‰äº›åç«¯æœåŠ¡ä¼šå¯¹ "),s("code",[t._v("Origin")]),t._v(" è¿›è¡Œä¸¥æ ¼æ ¡éªŒï¼Œå› æ­¤å¯èƒ½ä¼šæ‹’ç»æ¥è‡ªä¸åŒåŸŸåçš„è¯·æ±‚ï¼Œè¿™æ—¶å°±éœ€è¦å°† "),s("code",[t._v("changeOrigin")]),t._v(" è®¾ç½®ä¸º "),s("code",[t._v("true")]),t._v("ã€‚")]),t._v(" "),s("h3",{attrs:{id:"vite-proxyè¦†ç›–é—®é¢˜"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#vite-proxyè¦†ç›–é—®é¢˜"}},[t._v("#")]),t._v(" Vite proxyè¦†ç›–é—®é¢˜")]),t._v(" "),s("p",[t._v("Vite server proxy çš„è·¯å¾„åŒ¹é…æ˜¯æŒ‰ç…§é…ç½®é¡ºåºçš„ã€‚å¦‚æœä¸¤ä¸ªè§„åˆ™éƒ½åŒ¹é…äº†åŒä¸€ä¸ªè·¯å¾„ï¼Œå°†ä½¿ç”¨ç¬¬ä¸€ä¸ªåŒ¹é…çš„è§„åˆ™ã€‚")]),t._v(" "),s("p",[t._v('æ¯”å¦‚ç¬¬ä¸€ä¸ªåŒ¹é…è·¯å¾„ "/api"ï¼Œè€Œç¬¬äºŒä¸ªåŒ¹é…è·¯å¾„ "/api/data"ï¼Œåˆ™ä½¿ç”¨/api')]),t._v(" "),s("h2",{attrs:{id:"viteçš„ä»£ç†é…ç½®æ¨¡ç³ŠåŒ¹é…"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#viteçš„ä»£ç†é…ç½®æ¨¡ç³ŠåŒ¹é…"}},[t._v("#")]),t._v(" Viteçš„ä»£ç†é…ç½®æ¨¡ç³ŠåŒ¹é…")]),t._v(" "),s("p",[t._v("Vite çš„ "),s("code",[t._v("proxy")]),t._v(" é…ç½®æ˜¯åŸºäº "),s("code",[t._v("[path-to-match]")]),t._v(" çš„é”®å€¼å¯¹æ–¹å¼ï¼Œå®ƒæ”¯æŒä½¿ç”¨ "),s("strong",[s("code",[t._v("RegExp")]),t._v(" (æ­£åˆ™è¡¨è¾¾å¼)")]),t._v(" æ¥å®ç°æ¨¡ç³ŠåŒ¹é…ã€‚")]),t._v(" "),s("p",[t._v("æ¯”å¦‚ä¸‹é¢è¿™ä¸ªé…ç½®ï¼š")]),t._v(" "),s("div",{staticClass:"language-ts line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-ts"}},[s("code",[s("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v("'^/agent/proxyApi/flames-agent-manager/.*prompts'")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  target"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'http://10.1.196.177:30032/'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// changeOrigin: true,")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("rewrite")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("path"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" path"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("replace")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token regex"}},[s("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token regex-source language-regex"}},[t._v("^\\/agent\\/proxyApi\\/flames-agent-manager")]),s("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[t._v("/")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      headers"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" cookie "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("configure")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("proxy"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" options"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n          proxy"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("on")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'proxyReq'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("proxyReq"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" req"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" res"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" target "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" options"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("target\n            "),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("console")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'target: '")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" target"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" protocol "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" proxyReq"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("protocol "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("||")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'http:'")]),t._v("\n            proxyReq"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("setHeader")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'SKYBOX_TOKEN_USER_KEY'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'eyJ0ZW5hbnRJZCI6IjMxNDk0OGMzLTcyYmQtNDc0MS1hNWU1LWY0ZTI4ZTBlYTI0YyIsInRlbmFudE5hbWUiOiLmmJ/ngavmmbrog73kvZPlubPlj7Ao56ef5oi3KSIsImlkIjoiNjc0MDcyNzQtMWZlMS00ZGU4LWJmYmQtODliMTk4YWE4NTJlIiwiYWNjb3VudCI6ImFkbWluIiwibmFtZSI6IuW5s+WPsOeuoeeQhuWRmCIsInR5cGUiOjEsInN0YXR1cyI6MSwib3JnSWQiOiItMSIsInJvbGVzIjpbIkZMTV9TWVNfREFUQV9BRE1JTiIsIkZMTV9TVVBFUl9BRE1JTiIsIkZMTV9BRE1JTiJdLCJhcHBDb2RlIjoiZmxhbWVzLWFnZW50In0='")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("console")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n              "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'[Proxy Debug] target:'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n              "),s("span",{pre:!0,attrs:{class:"token template-string"}},[s("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),s("span",{pre:!0,attrs:{class:"token interpolation"}},[s("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("target"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("replace")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token regex"}},[s("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token regex-source language-regex"}},[t._v("\\/$")]),s("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[t._v("/")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),s("span",{pre:!0,attrs:{class:"token interpolation"}},[s("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("proxyReq"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("path"),s("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),s("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n          "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br"),s("span",{staticClass:"line-number"},[t._v("15")]),s("br"),s("span",{staticClass:"line-number"},[t._v("16")]),s("br"),s("span",{staticClass:"line-number"},[t._v("17")]),s("br"),s("span",{staticClass:"line-number"},[t._v("18")]),s("br")])]),s("p",[t._v("å…¶ä¸­è¿˜æ¶‰åŠåˆ°äº†configureçš„ä½¿ç”¨")]),t._v(" "),s("h2",{attrs:{id:"vite-proxy-bypassçš„ç”¨æ³•ä¸ä½œç”¨"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#vite-proxy-bypassçš„ç”¨æ³•ä¸ä½œç”¨"}},[t._v("#")]),t._v(" Vite proxy bypassçš„ç”¨æ³•ä¸ä½œç”¨")]),t._v(" "),s("h3",{attrs:{id:"ä»€ä¹ˆæ˜¯-bypass"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ä»€ä¹ˆæ˜¯-bypass"}},[t._v("#")]),t._v(" ä»€ä¹ˆæ˜¯ bypass")]),t._v(" "),s("p",[t._v("åœ¨ Vite çš„ "),s("code",[t._v("server.proxy")]),t._v(" é…ç½®é‡Œï¼Œé€šå¸¸ç”¨æ¥è½¬å‘è¯·æ±‚ï¼š")]),t._v(" "),s("div",{staticClass:"language-ts line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-ts"}},[s("code",[s("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v("'/agent/domain.json'")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  target"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("DEV_URL")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("bypass")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("req"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" res"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" proxyOptions"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" json "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" fs"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("readFileSync")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./dev-config/domain.json'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'utf-8'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    res"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("setHeader")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Content-Type'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'application/json'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    res"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("end")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("json"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("console")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'req.url: '")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" req"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("url"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" req"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("url\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br")])]),s("h2",{attrs:{id:"æ™ºèƒ½ä½“å¼€å‘ä¸­çš„viteä»£ç†"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#æ™ºèƒ½ä½“å¼€å‘ä¸­çš„viteä»£ç†"}},[t._v("#")]),t._v(" æ™ºèƒ½ä½“å¼€å‘ä¸­çš„viteä»£ç†")]),t._v(" "),s("p",[t._v("é¦–å…ˆæ˜¯pdfjsä»£ç†")]),t._v(" "),s("div",{staticClass:"language-ts line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-ts"}},[s("code",[s("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v("'/pdfjs/'")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  target"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("DEV_URL")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  secure"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  changeOrigin"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br")])]),s("h2",{attrs:{id:"è®¾ç½®secure-falseå¯¼è‡´websocketè¯·æ±‚ä»£ç†å¤±è´¥"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#è®¾ç½®secure-falseå¯¼è‡´websocketè¯·æ±‚ä»£ç†å¤±è´¥"}},[t._v("#")]),t._v(" è®¾ç½®secure: falseå¯¼è‡´Websocketè¯·æ±‚ä»£ç†å¤±è´¥")]),t._v(" "),s("p",[t._v("åœ¨å¼€å‘ä¸­å‘ç°vite proxyè®¾ç½®äº†secure: falseåWebsocketè¯·æ±‚å°±ä»£ç†å¤±è´¥ï¼Œä»æ˜¯localhost")]),t._v(" "),s("p",[t._v("é¦–å…ˆæˆ‘ä»¬è¦çŸ¥é“"),s("code",[t._v("secure: false")]),t._v(" çš„ä½œç”¨æ˜¯ï¼š")]),t._v(" "),s("blockquote",[s("p",[t._v("ğŸ”¹"),s("strong",[t._v("å½“ç›®æ ‡æœåŠ¡å™¨æ˜¯ HTTPSï¼ˆæˆ– WSSï¼‰å¹¶ä¸”è¯ä¹¦æ— æ•ˆæ—¶")]),t._v("ï¼Œä»ç„¶å…è®¸ä»£ç†è¿æ¥ã€‚\nä¾‹å¦‚è‡ªç­¾åè¯ä¹¦æˆ–æµ‹è¯•ç¯å¢ƒè¯ä¹¦ã€‚")])]),t._v(" "),s("p",[t._v("ä¹Ÿå°±æ˜¯è¯´ï¼š")]),t._v(" "),s("ul",[s("li",[s("code",[t._v("secure: true")]),t._v("ï¼ˆé»˜è®¤ï¼‰ â†’ åªæ¥å—æœ‰æ•ˆçš„è¯ä¹¦")]),t._v(" "),s("li",[s("code",[t._v("secure: false")]),t._v(" â†’ å¿½ç•¥è¯ä¹¦éªŒè¯")])]),t._v(" "),s("h3",{attrs:{id:"é—®é¢˜æ ¹æº"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#é—®é¢˜æ ¹æº"}},[t._v("#")]),t._v(" é—®é¢˜æ ¹æº")]),t._v(" "),s("p",[t._v("å½“ä½ ä»£ç† "),s("strong",[t._v("WebSocketï¼ˆ"),s("code",[t._v("ws://")]),t._v(" æˆ– "),s("code",[t._v("wss://")]),t._v("ï¼‰")]),t._v(" æ—¶ï¼Œ"),s("code",[t._v("secure: false")]),t._v(" çš„è¡Œä¸ºä¾èµ–äºç›®æ ‡åè®®ï¼š")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("target åè®®")]),t._v(" "),s("th",[t._v("secure è®¾ç½®")]),t._v(" "),s("th",[t._v("è¯´æ˜")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[s("code",[t._v("ws://")]),t._v("ï¼ˆéåŠ å¯†ï¼‰")]),t._v(" "),s("td",[t._v("âœ… ä¸éœ€è¦")]),t._v(" "),s("td",[t._v("æ— å½±å“")])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("wss://")]),t._v("ï¼ˆåŠ å¯†ï¼‰")]),t._v(" "),s("td",[t._v("âš ï¸ è‹¥è¯ä¹¦æ— æ•ˆæ—¶æ‰ç”¨ "),s("code",[t._v("secure: false")])]),t._v(" "),s("td",[t._v("å¿…é¡»é…åˆ "),s("code",[t._v("changeOrigin: true")])])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("http://")]),t._v(" â†’ "),s("code",[t._v("ws://")])]),t._v(" "),s("td",[t._v("âŒ "),s("code",[t._v("secure")]),t._v(" ä¸ç”Ÿæ•ˆ")]),t._v(" "),s("td",[t._v("æ— æ„ä¹‰")])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("https://")]),t._v(" â†’ "),s("code",[t._v("wss://")])]),t._v(" "),s("td",[t._v("âš ï¸ è‹¥è¯ä¹¦ä¸å¯ä¿¡åˆ™éœ€è¦ "),s("code",[t._v("secure: false")])]),t._v(" "),s("td",[t._v("å¦åˆ™æ¡æ‰‹å¤±è´¥")])])])]),t._v(" "),s("p",[s("strong",[t._v("é—®é¢˜å‡ºç°çš„å…¸å‹æƒ…å†µæ˜¯ï¼š")])]),t._v(" "),s("ul",[s("li",[t._v("ä½ ç›®æ ‡æœåŠ¡å…¶å®æ˜¯ "),s("code",[t._v("ws://")]),t._v("ï¼ˆéåŠ å¯†ï¼‰ï¼Œ")]),t._v(" "),s("li",[t._v("ä½†è®¾ç½®äº† "),s("code",[t._v("secure: false")]),t._v("ï¼Œæ­¤æ—¶ä»£ç†æ¨¡å—ä»¥ä¸ºä½ èµ°çš„æ˜¯ "),s("code",[t._v("wss://")]),t._v("ï¼Œç»“æœåè€Œç ´åæ¡æ‰‹ã€‚")])]),t._v(" "),s("h3",{attrs:{id:"è§£å†³æ–¹æ¡ˆ"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#è§£å†³æ–¹æ¡ˆ"}},[t._v("#")]),t._v(" è§£å†³æ–¹æ¡ˆ")]),t._v(" "),s("p",[t._v("âœ…1. å¦‚æœä½ çš„ç›®æ ‡æ˜¯ "),s("strong",[s("code",[t._v("ws://")]),t._v("ï¼ˆéåŠ å¯†ï¼‰")])]),t._v(" "),s("p",[t._v("ğŸ‘‰ "),s("strong",[t._v("ä¸è¦è®¾ç½® "),s("code",[t._v("secure: false")])]),t._v("ã€‚")]),t._v(" "),s("div",{staticClass:"language-ts line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-ts"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  target"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'ws://10.1.205.53:30032'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  ws"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  changeOrigin"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br")])]),s("p",[t._v("âœ… 2. å¦‚æœä½ çš„ç›®æ ‡æ˜¯ "),s("strong",[s("code",[t._v("wss://")]),t._v("ï¼ˆåŠ å¯†ï¼‰")])]),t._v(" "),s("p",[t._v("ğŸ‘‰ å¯ä»¥ä¿ç•™ "),s("code",[t._v("secure: false")]),t._v("ï¼ˆå¦‚æœç›®æ ‡è¯ä¹¦ä¸å—ä¿¡ä»»ï¼‰ï¼Œä½†è¦åŠ ä¸Šï¼š")]),t._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("{\n  target: 'wss://10.1.205.53:30032',\n  ws: true,\n  changeOrigin: true, // ğŸ‘ˆ å…³é”®\n  secure: false, // å…è®¸è‡ªç­¾åè¯ä¹¦\n}\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br")])]),s("p",[s("code",[t._v("changeOrigin: true")]),t._v(" å¯ä»¥è®©ä»£ç†åœ¨æ¡æ‰‹æ—¶ä¼ªè£… Host å¤´ï¼Œä»è€Œé¿å…æŸäº›æœåŠ¡ç«¯ä¸¥æ ¼æ ¡éªŒã€‚")])])}),[],!1,null,null,null);s.default=e.exports}}]);