(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{318:function(t,s,a){"use strict";a.r(s);var e=a(8),r=Object(e.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("p",[t._v("https://javascript.ruanyifeng.com/nodejs/fs.html#toc8")]),t._v(" "),s("p",[s("a",{attrs:{href:"http://nodejs.cn/api/fs.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("nodejs/api/fs"),s("OutboundLink")],1)]),t._v(" "),s("p",[t._v("fs模块用于操作文件，包括文件目录的创建、删除、查询以及文件的读取和写入。")]),t._v(" "),s("h3",{attrs:{id:"createreadstream"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#createreadstream"}},[t._v("#")]),t._v(" createReadStream()")]),t._v(" "),s("p",[s("code",[t._v("createReadStream")]),t._v("方法往往用于打开大型的文本文件，创建一个读取操作的数据流。所谓大型文本文件，指的是文本文件的体积很大，读取操作的缓存装不下，只能分成几次发送，每次发送会触发一个"),s("code",[t._v("data")]),t._v("事件，发送结束会触发"),s("code",[t._v("end")]),t._v("事件。")]),t._v(" "),s("h3",{attrs:{id:"createwritestream"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#createwritestream"}},[t._v("#")]),t._v(" createWriteStream()")]),t._v(" "),s("p",[s("code",[t._v("createWriteStream")]),t._v("方法创建一个写入数据流对象，该对象的"),s("code",[t._v("write")]),t._v("方法用于写入数据，"),s("code",[t._v("end")]),t._v("方法用于结束写入操作。")]),t._v(" "),s("p",[t._v("Node.js仅支持如下编码：utf8, ucs2, ascii, binary, base64, hex，并不支持中文GBK或GB2312之类的编码，")]),t._v(" "),s("p",[t._v("所以在使用fs.writeFile写入gbk文件时,需要使用额外的模块iconv-lite")]),t._v(" "),s("h3",{attrs:{id:"path模块"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#path模块"}},[t._v("#")]),t._v(" path模块")]),t._v(" "),s("p",[t._v("fs.readdirSync")]),t._v(" "),s("h3",{attrs:{id:"fs-stat-fs-statsync"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#fs-stat-fs-statsync"}},[t._v("#")]),t._v(" fs.stat / fs.statSync")]),t._v(" "),s("p",[t._v("stat方法的参数是一个文件或目录，它产生一个对象，该对象包含了该文件或目录的具体信息。我们往往通过该方法，判断正在处理的到底是一个文件，还是一个目录。")]),t._v(" "),s("h2",{attrs:{id:"读取文件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#读取文件"}},[t._v("#")]),t._v(" 读取文件")]),t._v(" "),s("h3",{attrs:{id:"fs-readfilesync-path-options"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#fs-readfilesync-path-options"}},[t._v("#")]),t._v(" "),s("a",{attrs:{href:"http://nodejs.cn/api/fs.html#fsreadfilesyncpath-options",target:"_blank",rel:"noopener noreferrer"}},[t._v("fs.readFileSync(path[, options])"),s("OutboundLink")],1)]),t._v(" "),s("p",[t._v("同步读取文件")]),t._v(" "),s("p",[t._v("如果指定了 "),s("code",[t._v("encoding")]),t._v(" 选项，则此函数返回字符串。 否则它返回缓冲区（raw buffer）。")]),t._v(" "),s("h2",{attrs:{id:"fs-promise"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#fs-promise"}},[t._v("#")]),t._v(" fs/promise")]),t._v(" "),s("p",[t._v("fs/promise 作为fs模块的promise支持")]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" fs "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'fs/promises'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nfs"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("readFile")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./README.md'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'utf-8'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("then")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("res")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("res"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br")])]),s("h2",{attrs:{id:"写入文件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#写入文件"}},[t._v("#")]),t._v(" 写入文件")]),t._v(" "),s("p",[t._v("writeFile用于往文件写入内容，"),s("code",[t._v("fs.writeFile")]),t._v(" 函数每次写入文件都会覆盖原来的内容。如果您希望将数据追加到文件的末尾而不是覆盖文件，可以使用 "),s("code",[t._v("fs.appendFile")]),t._v(" 函数。")]),t._v(" "),s("p",[t._v("fs.appendFile(file, data, options, callback)")]),t._v(" "),s("h2",{attrs:{id:"chmod"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#chmod"}},[t._v("#")]),t._v(" chmod")]),t._v(" "),s("p",[t._v("使用 Node.js 中的 "),s("code",[t._v("chmod")]),t._v(" 函数时，可以使用类似 "),s("code",[t._v("0o755")]),t._v(" 的八进制数来指定权限标识，来给文件赋予相应的权限。需要注意的是，不要随意给文件开放过高的权限，以保护文件的安全性。")]),t._v(" "),s("h2",{attrs:{id:"fs-mkdirsync和fs-mkdirssync"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#fs-mkdirsync和fs-mkdirssync"}},[t._v("#")]),t._v(" fs.mkdirSync和fs.mkdirsSync")]),t._v(" "),s("p",[s("code",[t._v("fs.mkdirSync")]),t._v(" 是 Node.js 标准库中的同步方法，用于创建一个新目录。如果目录已经存在，或者路径中的某个父目录不存在，则会抛出错误。")]),t._v(" "),s("p",[s("code",[t._v("fs.mkdirsSync")]),t._v(" 是 "),s("code",[t._v("fs-extra")]),t._v(" 库中的同步方法，用于递归地创建目录。如果路径中的某个父目录不存在，它会自动创建这些父目录。")]),t._v(" "),s("h2",{attrs:{id:"fs-unlink"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#fs-unlink"}},[t._v("#")]),t._v(" fs.unlink")]),t._v(" "),s("p",[t._v("删除文件")])])}),[],!1,null,null,null);s.default=r.exports}}]);