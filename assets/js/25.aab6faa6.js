(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{316:function(s,t,a){"use strict";a.r(t);var n=a(8),e=Object(n.a)({},(function(){var s=this,t=s._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("p",[s._v("在前端一些依赖包中，我们经常能看见有es目录，dist目录和lib目录等，这些目录有什么区别呢？")]),s._v(" "),t("h3",{attrs:{id:"_1-es-目录"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-es-目录"}},[s._v("#")]),s._v(" 1. es 目录")]),s._v(" "),t("p",[t("code",[s._v("es")]),s._v(" 目录中的文件通常是使用 ES Modules（ESM）规范导出的模块，文件后缀通常是 "),t("code",[s._v(".js")]),s._v(" 或 "),t("code",[s._v(".mjs")]),s._v("。它们的特点和用途如下：")]),s._v(" "),t("ul",[t("li",[t("strong",[s._v("模块系统")]),s._v(": 使用 ES Modules（"),t("code",[s._v("import")]),s._v(" 和 "),t("code",[s._v("export")]),s._v(" 语法）。")]),s._v(" "),t("li",[t("strong",[s._v("Tree Shaking 支持")]),s._v(": 由于 ES Modules 支持静态分析，构建工具（如 Webpack、Vite、Rollup）可以更有效地进行 Tree Shaking，从而移除未使用的代码，减小打包体积。")]),s._v(" "),t("li",[t("strong",[s._v("现代浏览器支持")]),s._v(": 现代浏览器原生支持 ES Modules，因此 "),t("code",[s._v("es")]),s._v(" 目录适合直接在浏览器端加载。")]),s._v(" "),t("li",[t("strong",[s._v("性能")]),s._v(": 在构建工具中使用时，"),t("code",[s._v("es")]),s._v(" 模块的导入通常更高效，构建速度较快。")])]),s._v(" "),t("h3",{attrs:{id:"_2-lib目录"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-lib目录"}},[s._v("#")]),s._v(" 2. lib目录")]),s._v(" "),t("p",[t("code",[s._v("lib")]),s._v(" 目录中的文件通常是使用 CommonJS 规范导出的模块，文件后缀通常是 "),t("code",[s._v(".js")]),s._v("。它们的特点和用途如下：")]),s._v(" "),t("ul",[t("li",[t("strong",[s._v("模块系统")]),s._v(": 使用 CommonJS（"),t("code",[s._v("require")]),s._v(" 和 "),t("code",[s._v("module.exports")]),s._v(" 语法）。")]),s._v(" "),t("li",[t("strong",[s._v("兼容性更广")]),s._v(": CommonJS 是 Node.js 默认的模块规范，因此对 Node.js 和传统构建工具的兼容性较好。")]),s._v(" "),t("li",[t("strong",[s._v("不支持 Tree Shaking")]),s._v(": CommonJS 的模块方式不支持静态分析，构建工具无法对其进行 Tree Shaking，因此可能会引入不必要的代码。")]),s._v(" "),t("li",[t("strong",[s._v("适用于老旧环境")]),s._v(": 如果项目中使用的构建工具不支持 ES Modules，或需要兼容旧版环境，"),t("code",[s._v("lib")]),s._v(" 目录会更适合。")])]),s._v(" "),t("h3",{attrs:{id:"_3-dist目录"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-dist目录"}},[s._v("#")]),s._v(" 3.dist目录")]),s._v(" "),t("p",[t("strong",[s._v("最终打包文件")]),s._v(": "),t("code",[s._v("dist")]),s._v(" 目录通常包含了经过打包、压缩和优化的最终产物，是为生产环境准备的。它是开发者发布包时给用户使用的版本。")]),s._v(" "),t("h2",{attrs:{id:"commandjs"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#commandjs"}},[s._v("#")]),s._v(" CommandJS")]),s._v(" "),t("p",[s._v("https://javascript.ruanyifeng.com/nodejs/module.html#toc1")]),s._v(" "),t("h4",{attrs:{id:"导入-require"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#导入-require"}},[s._v("#")]),s._v(" 导入---require")]),s._v(" "),t("h4",{attrs:{id:"导出-exports变量"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#导出-exports变量"}},[s._v("#")]),s._v(" 导出---exports变量")]),s._v(" "),t("p",[s._v("为了方便，Node为每个模块提供一个exports变量，指向module.exports。这等同在每个模块头部，有一行这样的命令。")]),s._v(" "),t("div",{staticClass:"language-js line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("var")]),s._v(" exports "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" module"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("exports"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("所以"),t("code",[s._v("module.exports")]),s._v(" = "),t("code",[s._v("exports")])]),s._v(" "),t("p",[s._v("我们经常看到这样的写法：")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("exports = module.exports = somethings\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("上面的代码等价于:")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("module.exports = somethings\nexports = module.exports\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("ul",[t("li",[s._v("module.exports")])]),s._v(" "),t("div",{staticClass:"language-js line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// export.js")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("over")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token parameter"}},[s._v("a")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  console"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("log")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("a"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\nexports "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" module"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("exports "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" over\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// import.js")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" instance "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("require")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'./export.js'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("instance")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 1")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 如果这里写instance.over(1) 就会报错instance.over is not a function")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br")])]),t("ul",[t("li",[s._v("exports")])]),s._v(" "),t("div",{staticClass:"language-js line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// export.js")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("over")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token parameter"}},[s._v("a")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  console"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("log")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("a"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\nexports"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("over "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" over\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 或")]),s._v("\nmodule"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("exports "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  over\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// import.js")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" instance "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("require")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'./export.js'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// or")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" over "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("require")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'./export.js'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\ninstance"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("over")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br")])]),t("p",[s._v("二者区别:")]),s._v(" "),t("ol",[t("li",[s._v("module.exports 初始值为一个空对象 {}")]),s._v(" "),t("li",[s._v("exports 是指向的 module.exports 的引用")]),s._v(" "),t("li",[s._v("require() 返回的是 module.exports 而不是 exports")])]),s._v(" "),t("blockquote",[t("p",[s._v("CommonJS规范规定，每个模块内部，"),t("code",[s._v("module")]),s._v("变量代表当前模块。这个变量是一个对象，它的"),t("code",[s._v("exports")]),s._v("属性（即"),t("code",[s._v("module.exports")]),s._v("）是对外的接口。加载某个模块，其实是加载该模块的"),t("code",[s._v("module.exports")]),s._v("属性。")]),s._v(" "),t("p",[s._v("所以"),t("code",[s._v("require('module_Name')")]),s._v("的结果其实是module.exports属性，是一个对象。")])]),s._v(" "),t("h2",{attrs:{id:"esm-es-modules"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#esm-es-modules"}},[s._v("#")]),s._v(" ESM（ES Modules）")]),s._v(" "),t("p",[s._v("https://juejin.im/post/6844903623273480200")]),s._v(" "),t("p",[s._v("ES6中export和import一般的用法有两种")]),s._v(" "),t("ol",[t("li",[s._v("命名导出（Named exports）")]),s._v(" "),t("li",[s._v("默认导出（Default exports）")])]),s._v(" "),t("p",[s._v("ES6 想要 import 一个模块中的变量等内容必须对其做模块解构，否则只会执行代码而没有任何导入的内容。这个道理跟 Node.js 中的模块没有 export 内容就 require 就只会执行代码不会导入内容是一个道理")]),s._v(" "),t("h4",{attrs:{id:"默认导出"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#默认导出"}},[s._v("#")]),s._v(" 默认导出")]),s._v(" "),t("p",[s._v("默认导出就不需要name了，但是一个js文件中只能有一个export default。")]),s._v(" "),t("div",{staticClass:"language-js line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//export.js")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" a "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("export")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("default")]),s._v(" a\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("div",{staticClass:"language-js line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//index.vue")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" a "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'moudule.js'")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("h4",{attrs:{id:"命名导出"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#命名导出"}},[s._v("#")]),s._v(" 命名导出")]),s._v(" "),t("div",{staticClass:"language-js line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//export.js")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("export")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" a "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("div",{staticClass:"language-js line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//index.vue")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" a "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'export.js'")]),s._v("\nconsole"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("log")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("a"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("h4",{attrs:{id:"别名导入"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#别名导入"}},[s._v("#")]),s._v(" 别名导入")]),s._v(" "),t("div",{staticClass:"language-js line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// export.js")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("export")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" a "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("div",{staticClass:"language-js line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//index.vue")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" a "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),s._v(" b "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'@/utils/a'")]),s._v("\nconsole"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("log")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("b"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("h4",{attrs:{id:"命名空间引入-namespace-imports"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#命名空间引入-namespace-imports"}},[s._v("#")]),s._v(" 命名空间引入（Namespace imports）")]),s._v(" "),t("div",{staticClass:"language-js line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),s._v(" cow "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'./cow.js'")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),s._v(" goat "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'./goat.js'")]),s._v("\n\ncow"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("speak")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// moo")]),s._v("\ngoat"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("speak")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// baa")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br")])]),t("h2",{attrs:{id:"es6动态import"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#es6动态import"}},[s._v("#")]),s._v(" es6动态import")]),s._v(" "),t("p",[s._v("即import()方法")]),s._v(" "),t("h2",{attrs:{id:"commonjs-amd-umd区别"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#commonjs-amd-umd区别"}},[s._v("#")]),s._v(" CommonJS AMD UMD区别")]),s._v(" "),t("p",[s._v("CommonJS主要是服务端模块规范，Node.js采用，")]),s._v(" "),t("p",[s._v("加载模块是同步的")]),s._v(" "),t("p",[s._v("之前有讲过CommonJS和ESM的导入导出")]),s._v(" "),t("p",[s._v("这会来说下UMD")]),s._v(" "),t("h2",{attrs:{id:"umd-universal-module-definition"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#umd-universal-module-definition"}},[s._v("#")]),s._v(" UMD（Universal Module Definition）")]),s._v(" "),t("p",[s._v("UMD全名叫通用模块定义规范（Universal Module Definition）")]),s._v(" "),t("p",[s._v("它可以通过运行时或者编译时让同一个代码模块在使用 CommonJs、CMD 甚至是 AMD 的项目中运行。")]),s._v(" "),t("p",[t("strong",[s._v("特点")]),s._v(":")]),s._v(" "),t("ul",[t("li",[t("strong",[s._v("通用性")]),s._v(": UMD 设计为在多种环境下都能正常运行，包括 AMD（如 RequireJS）、CommonJS（如 Node.js）、以及浏览器的全局变量模式。它能适应大部分 JavaScript 运行环境。")]),s._v(" "),t("li",[t("strong",[s._v("自执行函数")]),s._v(": 通过一个自执行函数包装模块，UMD 会检测当前的模块环境，如果是 CommonJS，则使用 "),t("code",[s._v("module.exports")]),s._v("，如果是 AMD，则使用 "),t("code",[s._v("define")]),s._v("，否则直接将模块暴露为全局变量。")]),s._v(" "),t("li",[t("strong",[s._v("动态加载")]),s._v(": UMD 可以在浏览器中通过 "),t("code",[s._v("<script>")]),s._v(" 标签直接引入，也可以在 Node.js 环境中使用 "),t("code",[s._v("require()")]),s._v("。")]),s._v(" "),t("li",[t("strong",[s._v("兼容性")]),s._v(": UMD 是一个兼容性最佳的方案，但为了实现这种兼容性，UMD 文件通常较大，且不支持 Tree Shaking。")]),s._v(" "),t("li",[t("strong",[s._v("主要用途")]),s._v(": 适用于发布第三方库，确保最大限度的兼容性，特别是在需要支持老旧环境或多个模块系统的项目中。")])]),s._v(" "),t("div",{staticClass:"language-js line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token parameter"}},[s._v("root"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" factory")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("typeof")]),s._v(" define "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("===")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'function'")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" define"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("amd"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//AMD")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("define")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'jquery'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" factory"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("else")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("typeof")]),s._v(" exports "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("===")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'object'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//CommonJS")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("var")]),s._v(" $ "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("requie")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'jquery'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        module"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("exports "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("factory")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("$"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("else")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        root"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("testModule "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("factory")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("root"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("jQuery"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("this")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token parameter"}},[s._v("$")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//todo")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br")])]),t("p",[s._v("简单来说，就是它是一个自调用函数，检测到node就走CommonJs规范，检测到浏览器就走AMD规范")]),s._v(" "),t("img",{staticStyle:{zoom:"67%"},attrs:{src:"https://minimax-1256590847.cos.ap-shanghai.myqcloud.com/img/image-20240907221303543.png",alt:"image-20240907221303543"}}),s._v(" "),t("h3",{attrs:{id:"总结"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#总结"}},[s._v("#")]),s._v(" 总结")]),s._v(" "),t("ul",[t("li",[t("strong",[s._v("AMD")]),s._v(" 是一种用于浏览器端的异步模块定义规范，旨在提高模块加载效率和依赖管理。它使用 "),t("code",[s._v("define")]),s._v(" 函数来定义模块和其依赖，并支持异步加载，适合大型前端应用。")]),s._v(" "),t("li",[t("strong",[s._v("CommonJS")]),s._v(" 主要用于 Node.js 环境，模块同步加载，适合服务器端开发，但在浏览器中使用时需要通过工具转换。")]),s._v(" "),t("li",[t("strong",[s._v("ESM (ES Modules)")]),s._v(" 是现代 JavaScript 的标准模块系统，支持静态分析、Tree Shaking 和异步加载，适用于前端和后端开发。")])]),s._v(" "),t("p",[s._v("AMD 的设计初衷是为了在浏览器中实现模块化和异步加载，它在模块化的早期阶段解决了许多问题，但随着 ES Modules 的普及，它逐渐被 ESM 所取代。")]),s._v(" "),t("h2",{attrs:{id:"vue不同构建版本的解释"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#vue不同构建版本的解释"}},[s._v("#")]),s._v(" vue不同构建版本的解释")]),s._v(" "),t("p",[s._v("在 Vue.js 的 "),t("code",[s._v("dist")]),s._v(" 目录下，你会找到多个不同版本的 Vue 构建文件。这些文件的命名和内容针对不同的使用场景和需求")]),s._v(" "),t("div",{staticClass:"language-js line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 这是 Vue 的 CommonJS 构建版本，主要用于 Node.js 环境或构建工具（如 Webpack）的 CommonJS 模块。")]),s._v("\nvue"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("common"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("js\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 服务端渲染。 通过 `require()` 在 Node.js 服务器端渲染使用。")]),s._v("\nvue"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("cjs"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("js\nvue"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("cjs"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("prod"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("js\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 使用构建工具，如 `webpack`，`rollup` 和 `parcel` 等打包出来的工程项目")]),s._v("\nvue"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("esm"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("bundler"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("js\nvue"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("runtime"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("esm"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("bundler"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("js\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v('// 通过浏览器中的 `<script src="...">` 直接使用，暴露全局Vue')]),s._v("\nvue"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("global"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("js\nvue"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("global"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("prod"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("js\nvue"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("runtime"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("global"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("js\nvue"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("runtime"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("global"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("prod"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("js\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v('// 在浏览器中通过 `<script type="module">` 来使用（浏览器原生 ES 模块导入使用）')]),s._v("\nvue"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("esm"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("browser"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("js\nvue"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("esm"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("browser"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("prod"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("js\nvue"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("runtime"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("esm"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("browser"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("js\nvue"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("runtime"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("esm"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("browser"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("prod"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("js\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br")])]),t("img",{staticStyle:{zoom:"67%"},attrs:{src:"https://minimax-1256590847.cos.ap-shanghai.myqcloud.com/img/image-20240908103655473.png",alt:"image-20240908103655473"}}),s._v(" "),t("h3",{attrs:{id:"参考"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#参考"}},[s._v("#")]),s._v(" 参考")]),s._v(" "),t("p",[t("a",{attrs:{href:"https://zhuanlan.zhihu.com/p/26625636",target:"_blank",rel:"noopener noreferrer"}},[s._v("理解CommonJS、AMD、CMD三种规范"),t("OutboundLink")],1)])])}),[],!1,null,null,null);t.default=e.exports}}]);